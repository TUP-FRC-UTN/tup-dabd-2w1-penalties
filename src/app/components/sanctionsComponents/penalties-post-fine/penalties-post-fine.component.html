<section class="py-5">
  <div class="container p-3 border border-2 rounded shadow-lg">
    <h2 class="text-start">Generar Nueva Infracci칩n</h2>
    <hr />

    <form #formPostFine="ngForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="container pe-5">
        <div class="row">

          <div class="col d-flex">
            <!-- Input Infractor -->
            
            <div class="col-lg-6 mb-3">
              <div class="row">
                <div class="input-group">
                  <label class="col-2 col-form-label">Infractor</label>
                  
                  <!-- Input redondeado en la izquierda -->
                  <input
                    type="text"
                    class="form-control rounded-start"
                    [value]="report?.plotId"
                    disabled
                  />
            
                  <!-- Icono redondeado en la derecha -->
                  <span class="input-group-text bg-body-secondary rounded-end">
                    <i class="bi bi-lock"></i>
                  </span>
            
                  <!-- Bot칩n con espacio y bordes redondeados -->
                  <button type="button" class="btn btn-info rounded ms-3">
                    Ver m치s
                  </button>
                </div>
              </div>
            </div>
            
            

            <div class="col d-flex">
              <!-- Input fecha -->
              <div class="offset-7 mb-3">
                <div class="row">
                  <label class="col-2 col-form-label">Fecha</label>
                  <div class="col-10">
                    <input
                      type="datetime-local"
                      class="form-control"
                      [value]="report?.createdDate"
                      disabled
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-lg-6 mb-3">
            <div class="row">
              <label class="col-2 col-form-label">Motivo</label>
              <div class="col-10">
                <select class="form-select" disabled>
                  <option value="" selected>
                    {{ report?.reportReason.reportReason }}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <div class="col d-flex">
            <div class="row ms-auto m-2">
              <div class="col">
                <label for="reportReason" class="me-2"
                  >Tipo de Infracci칩n:
                </label>
              </div>
              <div class="col d-flex">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault1"
                    (change)="showAmountToPay('fine')"
                  />
                  <label class="form-check-label me-4" for="flexRadioDefault1">
                    Multa
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexCheckChecked2"
                    checked
                    (change)="showAmountToPay('warning')"
                  />
                  <label class="form-check-label" for="flexRadioDefault2">
                    Advertencia
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mt-4">
          <!-- Input Descripcion -->
          <div class="col-lg-12 mb-3">
            <div class="row">
              <label class="col-2 col-lg-1 col-form-label">Descripcion</label>
              <div class="col-10 col-lg-11">
                <textarea
                  class="form-control"
                  rows="8"
                  style="resize: none"
                  [value]="report?.description"
                  disabled
                ></textarea>
              </div>
            </div>
          </div>
        </div>

        <div class="clearfix mt-2">
          <div class="float-end d-flex">
            <label *ngIf="newFine" for="" class="me-2 mt-3">Importe:</label>
            <div *ngIf="newFine" class="input-group mt-2 mb-3">
              <span class="input-group-text" id="basic-addon1">$</span>
              <input
                type="number"
                class="form-control text-end"
                placeholder="0.00"
                style="max-width: 220px"
                name="baseAmount"
                [(ngModel)]="newAmount"
                required
                min="{{ report.baseAmount }}"
                #baseAmount="ngModel"
                [ngClass]="{
                  'is-invalid': baseAmount.invalid && baseAmount.touched
                }"
              />
              <div
                *ngIf="baseAmount.invalid && baseAmount.touched"
                class="invalid-feedback"
              >
                <div *ngIf="baseAmount.errors?.['required']">
                  El importe es requerido.
                </div>
                <div *ngIf="baseAmount.errors?.['minlength']">
                  El importe debe ser mayor o igual a {{ report.baseAmount }}.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="clearfix mt-1">
          <button
            type="button"
            class="btn btn-danger float-start"
            [routerLink]="'../../reportList'"
          >
            Cancelar
          </button>
          <button
            type="submit"
            class="btn btn-success float-end"
            [disabled]="formPostFine.invalid"
          >
            Aceptar
          </button>
        </div>
      </div>
    </form>
  </div>
</section>
